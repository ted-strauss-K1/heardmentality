<?php
/**
 * Implementation of hook_perm().
 */
function notify_perm() {
  return array('notify','Notify Report','Notify Report Content','Notify Report Content2','Notify Report Content3','Admin Notification');
}


/**
 * Implementation of hook_menu().
 */
 
function notify_menu() {	

$items['mynotify'] = array(
    'title' => 'Notification',
    'page callback' => 'my_notify_list',
    'access arguments' => array('notify'),
    'type' => MENU_SUGGESTED_ITEM,
    'file' => 'notify.pages.inc',
  );

 $items['notify/report'] = array(
    'title' => 'Notification',
    'page callback' => 'notify_report',
	   'type' => MENU_CALLBACK,
	   'access arguments' => array('Notify Report'),
    'file' => 'notify.pages.inc',
  );
  $items['notify/repcontent'] = array(
    'title' => 'Notification',
    'page callback' => 'notify_content',
	   'type' => MENU_CALLBACK,
	   'access arguments' => array('Notify Report Content'),
    'file' => 'notify.pages.inc',
  );
 $items['message'] = array(
    'title' => 'Notification',
    'page callback' => 'mail_sent_reply',
	   'type' => MENU_CALLBACK,
	   'access arguments' => array('Notify Report Content2'),
    'file' => 'notify.pages.inc',
  );
  $items['reply'] = array(
    'title' => 'Notification',
    'page callback' => 'reply_box',
	   'type' => MENU_CALLBACK,
	   'access arguments' => array('Notify Report Content3'),
    'file' => 'notify.pages.inc',
  );
  
    $items['admin/notification'] = array(
    'title' => 'Change Notification Mail',
    'page callback' => 'admin_notify',
	   'type' => MENU_SUGGESTED_ITEM,
	   'access arguments' => array('Admin Notification'),
    'file' => 'notify.pages.inc',
  );
  
  
  
  $items['admin/save_notify'] = array(
    'title' => 'Notification',
    'page callback' => 'admin_notify_save',
	   'type' => MENU_CALLBACK,
	   'access arguments' => array('Admin Notification'),
    'file' => 'notify.pages.inc',
  );
  
  
  
  
  
  
  
  return $items;
}







function forum_post() {
    global $user;
    $qid = get_qid();
	$output = '';
	 $vSql = "select *,q.uid as uid from {question} as q left join {user_profile} as u on q.uid=u.uid where  q.qid='" . $qid . "'  ";
	    $rlist = db_query($vSql);
    $oListquest = db_fetch_object($rlist);



            $output .= '<div id="container">';
             $output .='<div class="feature">';
		$output .= '<div class="l col">';
		$output .= '<ul>';
	$output .='<div>'. substr($oListquest->question,0,20).'...'.'</div>';
	
	
    

    $follow_query = "select * from follower where uid='$user->uid'";
   
    $follow_list=db_query($follow_query);
$followid=db_fetch_object($follow_list);

 $forum_query = "select * from forum_wave where uid='$followid->uid' and qid_rid='$oListquest->qid' order by fid desc limit 0,3";


 $forum_list = ExecuteQuery($forum_query, "select");

 foreach ($forum_list as $list) {
     
       // $output .= '<div>'.$list['title'].'</div>';
       $output.='<li>
	<a href="'.$gSitePath.'profile/'.$list['title'].'">'.$list['title'].'</a>';
    }
 $output .='</ul></div>
	</div>
	</div>';
    return $output;


}



	
	