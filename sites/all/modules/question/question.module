<?php
/**
 * Implementation of hook_perm().
 */
function question_perm() {
  return array('Question user','Question add','Question save','Question ajax');
}


/**
 * Implementation of hook_menu().
 */
 
function question_menu() {	

$items['question'] = array(
    'title' => ' My Question',
    'page callback' => 'my_question',
    'access arguments' => array('Question user'),
    'type' => MENU_SUGGESTED_ITEM,
    'file' => 'question.pages.inc',
  );
$items['question/add'] = array(
    'title' => ' Add Question',
    'page callback' => 'question_add',
    'access arguments' => array('Question add'),
    'type' => MENU_SUGGESTED_ITEM,
    'file' => 'question.pages.inc',
  );
$items['question/save'] = array(
    'title' => ' Save Question',
    'page callback' => 'question_save',
    'access arguments' => array('Question save'),
    'type' => MENU_SUGGESTED_ITEM,
    'file' => 'question.pages.inc',
  );
  $items['question/ajax'] = array(
    'title' => ' Ajax Function',
    'page callback' => 'question_ajax',
	 'access arguments' => array('Question ajax'),
     'type' => MENU_CALLBACK,
    'file' => 'question.pages.inc',
  );

  return $items;
}


// mysql query execution	
	function ExecuteQuery($Query, $Qrytype)
	{
		if(!empty($Query) && !empty($Qrytype))
		{
			switch(strtolower($Qrytype))
			{
				case "select":
					$Result = db_query($Query) ;
					if($Result)
					{	
						$ResultSet = array();
						while($ResultSet1 = mysql_fetch_array($Result))
							$ResultSet[] = $ResultSet1;
						return $ResultSet;
					}
					else return false;
					break;
				case "update":
					$Result = db_query($Query);
					if($Result)
					{
						$AffectedNums = mysql_affected_rows();
						return $AffectedNums;
					}
					else return false;
					break;
				case "norows":
					$Result = db_query($Query) ;
					if($Result)
					{
						$Totalrows = mysql_num_rows($Result);
						return $Totalrows;
					}
					else return false;
					break;	
					
				case "insert":
					$Result = db_query($Query) ;
					if($Result)
					{
						$LastInsertedRow = mysql_insert_id();
						return $LastInsertedRow;
					}
					else return false;
					break;
				case "delete":
					$Result = db_query($Query) ;
					if($Result)
						return true;
					else
						return false;
			}
		}
		
	}